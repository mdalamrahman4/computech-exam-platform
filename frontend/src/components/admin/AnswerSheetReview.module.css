.page              { display:flex; height:100vh; font-size:0.95rem; background:#f8fafc; }
.left              { width:28%; background:#ffffff; border-right:2px solid #e2e8f0; overflow:auto;
                     box-shadow: 2px 0 4px rgba(0,0,0,0.05); }
.left h2           { margin:1.5rem 1rem 1rem; font-size:1.15rem; color:#1f2937; font-weight:600; }
.rows              { list-style:none; margin:0; padding:0; }
.rows li           { display:flex; justify-content:space-between; align-items:center; 
                     padding:1rem; border-bottom:1px solid #e5e7eb; cursor:pointer; 
                     transition:background-color 0.2s ease; }
.rows li:hover     { background:#f3f4f6; }
.sel               { background:#dbeafe; border-left:4px solid #3b82f6; font-weight:600; }
.tag               { padding:.3rem .8rem; border-radius:.5rem; font-size:.8rem;
                     text-transform:capitalize; font-weight:500; }
.pending           { background:#fef3c7; color:#92400e; border:1px solid #f59e0b; }
.under             { background:#fecaca; color:#991b1b; border:1px solid #dc2626; }

/* ================= RIGHT PANEL - ENABLE SCROLLING ================= */
.right             { 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  padding: 1rem; 
  overflow-y: auto;                    /* ← FIXED: Enable vertical scrolling */
  background: #ffffff; 
  height: 100vh;                       /* ← Ensure full height */
}

/* ================= HEADER SECTION ================= */
.right header      { 
  flex-shrink: 0;
  margin-bottom: 1rem; 
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #e5e7eb;
  background: #ffffff;                 /* ← Ensure header has background */
  position: sticky;                    /* ← Make header sticky */
  top: 0;
  z-index: 100;
}

/* ================= IFRAME WITH GOOD SIZE ================= */
.iframeBox         { 
  height: 500px;                       /* ← Fixed height instead of vh */
  min-height: 400px;                   
  border: 2px solid #d1d5db; 
  border-radius: 8px; 
  margin-bottom: 1.5rem;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  flex-shrink: 0;
}

.iframeBox iframe  { width:100%; height:100%; border:none; }
.nosheet           { display:flex; align-items:center; justify-content:center; height:100%; 
                     color:#6b7280; font-size:1rem; background:#f9fafb; }

/* ================= TABLE - ALLOW NATURAL HEIGHT ================= */
.grid              { 
  width: 100%; 
  border-collapse: collapse; 
  margin-bottom: 1.5rem;               /* ← Space for button */
  border: 2px solid #e5e7eb; 
  border-radius: 8px; 
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
}

.grid th           { 
  background: #f9fafb; 
  border: 1px solid #d1d5db; 
  padding: .8rem .6rem; 
  text-align: center; 
  font-weight: 600; 
  color: #374151; 
  font-size: .9rem;
  position: sticky;                    /* ← Sticky table headers */
  top: 60px;                           /* ← Below the main header */
  z-index: 10;
}

.grid td           { border:1px solid #e5e7eb; padding:.6rem; text-align:center; 
                     vertical-align:middle; }

/* ================= INPUT FIELDS ================= */
.maxInput          { 
  width: 90px; 
  padding: .5rem .4rem; 
  border: 2px solid #f59e0b; 
  border-radius: 6px; 
  text-align: center; 
  background: #fffbeb; 
  font-size: .95rem;
  font-weight: 500;
  color: #92400e;
  transition: all 0.2s ease;
}

.maxInput:focus    { 
  outline: none; 
  border-color: #d97706; 
  background: #fef3c7; 
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
  transform: scale(1.02);
}

.marksInput        { 
  width: 80px; 
  padding: .5rem .4rem; 
  border: 2px solid #10b981; 
  border-radius: 6px; 
  text-align: center; 
  background: #ecfdf5; 
  font-size: .95rem;
  font-weight: 500;
  color: #065f46;
  transition: all 0.2s ease;
}

.marksInput:focus  { 
  outline: none; 
  border-color: #059669; 
  background: #d1fae5; 
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
  transform: scale(1.02);
}

.remarksInput      { 
  width: 180px; 
  padding: .5rem .6rem; 
  border: 2px solid #6366f1; 
  border-radius: 6px; 
  background: #f0f9ff; 
  font-size: .9rem;
  color: #1e40af;
  transition: all 0.2s ease;
  resize: horizontal;
  min-width: 150px;
  max-width: 250px;
}

.remarksInput:focus { 
  outline: none; 
  border-color: #4f46e5; 
  background: #dbeafe; 
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

.remarksInput::placeholder { 
  color: #9ca3af; 
  font-style: italic; 
}

/* ================= TOTAL ROW ================= */
.total             { 
  font-weight: 700; 
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); 
  color: #1e293b;
  font-size: 1rem;
}

.total td          { 
  padding: .8rem; 
  border-top: 3px solid #3b82f6; 
}

/* ================= BUTTON - FIXED AT BOTTOM ================= */
.buttonContainer   {
  position: sticky;                    /* ← Sticky button area */
  bottom: 0;
  background: #ffffff;                 /* ← White background */
  padding: 1rem 0;
  border-top: 2px solid #e5e7eb;
  margin-top: 1rem;
  z-index: 50;
}

button             { 
  background: linear-gradient(135deg, #10b981 0%, #059669 100%); 
  color: #ffffff; 
  padding: .8rem 1.5rem;
  border: none; 
  border-radius: 8px; 
  cursor: pointer; 
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);
}

button:hover:not(:disabled) { 
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);
}

button:disabled    { 
  opacity: .5; 
  cursor: not-allowed; 
  transform: none;
  box-shadow: none;
}

.flash             { 
  margin-top: 1rem; 
  padding: .8rem 1rem;
  border-radius: 6px;
  font-weight: 500;
  background: #d1fae5;
  color: #065f46;
  border: 1px solid #10b981;
}

/* ================= RESPONSIVE ADJUSTMENTS ================= */
@media (max-width: 1200px) {
  .iframeBox { height: 400px; min-height: 350px; }
  .remarksInput { width: 140px; min-width: 120px; }
  .maxInput { width: 75px; }
  .marksInput { width: 65px; }
}

@media (max-width: 768px) {
  .page { flex-direction: column; height: auto; }
  .left { width: 100%; max-height: 200px; }
  .right { padding: 1rem; height: auto; }
  .iframeBox { height: 300px; min-height: 250px; }
  .grid { font-size: .85rem; }
  .remarksInput { width: 120px; font-size: .85rem; }
  .maxInput, .marksInput { width: 60px; font-size: .85rem; }
  .buttonContainer { position: relative; }
}

/* ================= ACCESSIBILITY ================= */
.grid input:focus {
  z-index: 1;
  position: relative;
}

.grid tr:focus-within {
  background: rgba(59, 130, 246, 0.05);
}

.grid input:disabled {
  background: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}

.grid input:invalid {
  border-color: #dc2626;
  background: #fef2f2;
}

.grid input:valid {
  border-color: #10b981;
}
